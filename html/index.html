<!DOCTYPE html>
<html>
<head>
    <title id="title">Pass Your Story On!</title>
    <link rel="stylesheet" type="text/css" href="{{.Protocol}}://{{.ServerURL}}/public/style.css" />
</head>

<body>
    <h1>Pass Your Story On</h1>

    <button id="create-game" class="basic-button">
        Create Game
    </button>

</body>
</html>

<script src="{{.Protocol}}://{{.ServerURL}}/public/base.js"></script>
<script>
    /* Variables */

    const createURL = "{{.Protocol}}://{{.ServerURL}}/create";
    const gameURL = "{{.Protocol}}://{{.ServerURL}}/game/";

    /* Functions */

    const createGameSuccess = function (response) {
        let json = JSON.parse(response);
        window.location = gameURL + json.id;
    };

    /* Element Logic */

    // Clicking on the create button sends a request to start the game
    let createButton = document.getElementById("create-game");
    createButton.onclick = function () {
        this.disabled = true;
        let data = {};
        postToServer(createURL, data, createGameSuccess, genericFailure);
    };
</script>